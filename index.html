<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registreer formulier</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <main role="main" class="container">
      <h1>Registreer</h1>
      <p class="lead">
        Meld je aan bij Anoroc Services, wij beschermen jouw software tegen
        malware!
      </p>

      <div class="row">
        <div class="col-md-8">
          <div id="error"></div>
          <form id="form">
            <div class="form-row">
            <div class="col-6">
              <label for="name"> Voornaam</label>
              <input
                type="text"
                class="form-control"
                id="name"
                placeholder="Uw voornaam"
                name="name"
              />
            </div>

            <div class="col">
              <label for="lastname">Naam</label>
              <input
                type="text"
                class="form-control"
                id="lastname"
                placeholder="Uw voornaam"
                name="name"
              />
            </div>

            <div class="col-6">
              <br />
              <label for="username">Gebruikersnaam</label>
              <label class="sr-only" id="username" for="inlineFormInputGroup"
                >u911236</label
              >
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">@</div>
                </div>
                <input
                  type="text"
                  class="form-control"
                  id="inlineFormInputGroup"
                  placeholder="u911236"
                />
              </div>
            </div>

            <div class="col">
              <br />
              <label for="email">E-mailadres</label>
              <input
                type="text"
                class="form-control"
                id="email"
                placeholder="mail@example.be"
                name="last"
              />
            </div>

            <div class="col-6">
              <br />
              <label for="password">Wachtwoord</label>
              <input
                type="password"
                class="form-control"
                id="password"
                minlength="8"
              />
              <small id="passwordHelpBlock" class="form-text text-muted">
                Je wachtwoord moet minstens 8 tekens lang zijn
              </small>
            </div>
            <div class="col">
              <br />
              <label for="repeatPassword">Herhaal wachtwoord</label>
              <input type="password" class="form-control" id="repeatPassword" />
            </div>

            <div class="col-12">
              <br />
              <label for="adress">Adres</label>
              <input
                type="text"
                class="form-control"
                placeholder="Uw adres en huisnummer"
                id="address"
              />
            </div>

            <div class="col-lg-4">
              <br />
              <label for="inlineFormCustomSelectPref">Land</label>
              <select class="custom-select my-1 mr-sm-2" id="country">
                <option value="" selected>Kies een land</option>
                <option value="1">Canada</option>
                <option value="2">VS</option>
                <option value="3">België</option>
                <option value="1">Nederland</option>
              </select>
            </div>

            <div class="col-lg-4">
              <br />
              <label class="my-1 mr-2" for="inlineFormCustomSelectPref"
                >Provincie</label
              >
              <select class="custom-select my-1 mr-sm-2" id="province">
                <option value="" selected>Kies een provincie</option>
                <option value="1">Ontario</option>
                <option value="2">Quebec</option>
                <option value="3">British Columbia</option>
                <option value="4">Nova Scotia</option>
                <option value="5">Californië</option>
                <option value="6">Texas</option>
                <option value="7">New York</option>
                <option value="8">Pennsylvania</option>
                <option value="9">Antwerpen</option>
                <option value="10">Limburg</option>
                <option value="11">Luik</option>
                <option value="12">Vlaams-brabant</option>
                <option value="13">Noord-Brabant</option>
                <option value="14">Utrecht</option>
                <option value="15">Zuid-Holland</option>
                <option value="16">Groningen</option>
              </select>
            </div>

            <div class="col-lg-4">
              <br />
              <label class="my-2 mr-sm-2" for="postcodes">
                Postcode
              </label>
              <input class="col-lg-8" type="number" name="postcodes" id="postcode">
            </div>
            <div class="col-12">
              <hr />
            </div>

            <div class="col-6">
              <br />
              <h4>Hou me op de hoogte</h4>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="newsletter"
                />
                <label class="form-check-label" for="newsletter">
                  Inschrijven voor onze nieuwsbrief
                </label>
              </div>

              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="agreeRequirements"
                />
                <label class="form-check-label" for="agreeRequirements">
                  Ik ga akkoord met de algemene voorwaarden.
                </label>
              </div>
            </div>

            <div class="col-6" id="radiobuttons">
              <br />
              <h4>Betaling</h4>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="exampleRadios"
                  id="BankingApp"
                  value="1"
                />
                <label class="form-check-label" for="bankApp">
                  Banking app
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="exampleRadios"
                  id="Overschrijving"
                  value="2"
                />
                <label class="form-check-label" for="bankTransfer">
                  Overschrijving
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="exampleRadios"
                  id="Visa"
                  value="3"
                />
                <label class="form-check-label" for="visa"> Visa card </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="exampleRadios"
                  id="Paypal"
                  value="4"
                />
                <label class="form-check-label" for="paypal"> Paypal </label>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="col-lg-8 col-md-8 sm-8">
        <br />
        <button type="submit" class="btn btn-primary btn-block" id="submit">
          Wave your magic wand
        </button>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="alert alert-danger" id="danger" role="alert">
          <h4>Yikes,errors...</h4>
        </div>
        <div class="alert alert-success" id="success" role="alert">
          <h4>Goed Gedaan!</h4>
          <p>Aww yeah, je werd geregistreerd.</p>
        </div>
        <div class="alert alert-primary" id="primary" role="alert">
          <h4>Betalingswijze</h4>
        </div>
      </div>
    </main>

    <script>
      // Het verbergen van de alerts kan je op 2 manieren doen. Je maakt als eerste een variabele dat gelinkt wordt met het id van de alert.

      // 1) Daarna gebruik je .style zodat je de visibility kan aanpassen deze is nu op 'hidden' gezet wat betekent dat de alerts onzichtbaar zijn maar je ziet nog wel witte ruimte

      // 2) Je kan ook de de display op 'none' zetten dan wordt deze niet weergegeven en je ziet ook geen wit ruimtes.

      // Id's omzetten naar variablen
      const alertDanger= document.querySelector("#danger");
      alertDanger.style.visibility = "hidden";

      const alertSuccess = document.querySelector("#success");
      alertSuccess.style.visibility = "hidden";

      const alertprimary = document.querySelector("#primary");
      alertprimary.style.visibility = "hidden";
      
      const submit = document.querySelector('#submit');
      const name = document.querySelector('#name');
      const lastname = document.querySelector('#lastname');
      const username = document.querySelector('#inlineFormInputGroup');
      const email = document.querySelector('#email');
      const address = document.querySelector('#address');
      const land = document.querySelector('#country');
      const province = document.querySelector('#province');
      const password = document.querySelector('#password');
      const repeatPassword = document.querySelector('#repeatPassword');
      const postcode = document.querySelector('#postcode');

      const radiobuttons = document.querySelector('#radiobuttons');
     
      const emailValue = email.value;
      // Array errors waar alle errors worden bijgehouden deze is nu nog leeg
      const errors = [];

      let countError = 0;
      let countPayment = 0;
  
        submit.addEventListener('click', function() {
 
          function validateForm() {
      
        }
       countError = 0;
        checkEmptyField();
        validatePayment(radiobuttons);
        validateEmail(emailValue);
        checkPc();
        checkAlgemeneVoorwaarden();
        PasswordValidation();
        VoegToeErrors();  
        VoegToeSucces(countError);

function checkEmptyField (veld,melding) {
// Neem de naam, achternaam, gebruikersnaam, address, land en provincie en pak hier de value van het input veld en zet deze in een variable
      const nameValue = name.value;
      const lastnameValue = lastname.value;
      const usernameValue = username.value;
      const addressValue = address.value;
      const landValue = country.value;
      const provinceValue = province.value;
// Kijkt of naam leeg is -> melding naar array zetten
  if (nameValue === '')  {
   
   melding = 'Voornaam moet verplicht worden ingevuld!';
   errors.push(melding);
   countError++;
   
  
  } 
// Kijkt of achternaam leeg is -> melding naar array zetten
 if (lastnameValue === '') {
   melding = 'Achternaam moet verplicht worden ingevuld!';
   errors.push(melding);
   countError++;
   
   
 }
 // Kijkt of gebruikers leeg is -> melding naar array zetten
 if (usernameValue === '') {
  melding = 'Gebruikersnaam moet verplicht worden ingevuld!';
   errors.push(melding);
   countError++;
   
 
 }
 // Kijkt of adres leeg is -> melding naar array zetten
 if (addressValue === '') {
  melding = 'Addres moet verplicht worden ingevuld!';
   errors.push(melding);
   countError++;
   
 }
 // Kijkt of land leeg is -> melding naar array zetten
 if (landValue === '') {
  melding = 'Land moet verplicht worden ingevuld!';
   errors.push(melding);
   countError++;
   
 }
 // Kijkt of provincie leeg is -> melding naar array zetten
 if (provinceValue === '') {
  melding = 'Provincie moet verplicht worden ingevuld!';
   errors.push(melding);
   countError++;
   
   
 }
 // Kijkt of totale aantal errors = 0  
 // Zet de alert op onzichtbaar

 if (countError === 0) {
  alertDanger.style.display = "none";

 }

}   
// Neemt de value van paswoord en herhaal paswoord en steekt deze in een variable

function PasswordValidation() {
  let melding = '';
  const passwordValue = password.value;
  const repeatPasswordValue = repeatPassword.value;
   
// Kijkt of het paswoord niet leeg is anders kijkt het of het paswoord langer dan 7 tekens bevat
  if (passwordValue === '' ){
   melding = 'Het veld wachtwoord is vereist!';
   errors.push(melding);
   countError++;
 
   }  else {
     if (passwordValue.length < 8) {
       melding = 'Je wachtwoord moet minstens 8 tekens lang zijn';
       errors.push(melding);
       countError++;
       
     }

  }
  // Kijkt of het herhaal paswoord niet leeg is
  if (repeatPasswordValue === '' ) {
   melding = 'Het veld herhaal wachtwoord is vereist!';
   errors.push(melding);
   countError++;
  
  } 
 
}
   
});
  
// https://www.w3resource.com/javascript/form/email-validation.php
// Kijkt of de syntax van het emailadres klopt
function validateEmail(emailadres) {
 let melding = 'E-mailadres is niet correct';
 // Variable maken van de syntax die nodig is om tot een succesvolle email validatie te bekomen

 // 1) Bij het eerste deel van het email adres(gebruikersnaam) hoofdletters en kleine letters van a-z, A-Z ,de cijfers van 0 tot en met 9
 // ! # $ % & ' * + - / = ? ^ _ ` { | } ~  voorkomt en een . dat niet als eerste of als laatste in het stukje van de gebruikersnaam van het email adres voorkomt

 // 2) Het domein naam bestaat uit letters van a-z , A-Z en uit cijfers van 0-9 en een .(punt)
 let controleerEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
 // Kijkt of het emailadres (die is ingegeven door de user) klopt met de syntax van controleerEmail
 if ( email.value.match(controleerEmail)) {

    return true;
 }else {
   errors.push(melding);
   countError++;
   return false;
 }

} 

// Als het aantal errors groter dan 0 is dan laat het al de errors zien
// Anders wordt het alert verborgen
function VoegToeErrors() {
  if (countError > 0) {
    let p = document.createElement('p');
    let n = document.createTextNode(errors);
    alertDanger.appendChild(n);
    alertDanger.style.visibility = "visible";
  } else {
    alertDanger.style.visibility = "hidden";
  }




} 
// Als het aantal errors 0 is dan wordt het succes en betaal scherm getoond
// Anders blijft deze verbergt
function VoegToeSucces(aantalErrors) {
  if (aantalErrors == 0) {
    alertSuccess.style.visibility = "visible";
    alertprimary.style.visibility = "visible";
   
  } else {
    alertSuccess.style.visibility = "hidden";
    alertprimary.style.visibility = "hidden";
  
  }

 
}
// https://www.javatpoint.com/how-to-check-a-radio-button-using-javascript

//Maakt eerst variabelen van bankingapp,overschrijving,visa en paypal

function validatePayment(veld) {
  let tellerBetalingswijze = 0;

  const bankingApp = document.querySelector('#BankingApp');
  const overschrijving = document.querySelector('#Overschrijving');
  const visa = document.querySelector('#Visa');
  const paypal = document.querySelector('#Paypal');
  // Kijkt of één van deze radiobuttons is gechekt
  // Als dit waar is dan wordt het bericht met de betaalwijze in het alert gestoken
if (bankingApp.checked === true) {   
  checkedValue = bankingApp.value; 
  
  
  let p = document.createElement('p');
  let n = document.createTextNode('Je betalingswijze is BankingApp');
  alertprimary.appendChild(n);
 
}
if (overschrijving.checked === true) {
  checkedValue = overschrijving.value;
  let p = document.createElement('p');
  let n = document.createTextNode('Je betalingswijze is Overschrijving');
  alertprimary.appendChild(n);
  
}

if (visa.checked === true) {
   checkedValue = visa.value;
   let p = document.createElement('p');
   let n = document.createTextNode('Je betalingswijze is Visa');
   alertprimary.appendChild(n);
   
}

if (paypal.checked === true) {
  
  checkedValue = paypal.value;
  if (countPayment === 0) {
    let p = document.createElement('p');
    let n = document.createTextNode('Je betalingswijze is paypal');
    alertprimary.appendChild(n);
    countPayment++;

  }

  
  
}
// Als er niet is aangeduidt dan wordt er een melding naar de errors array gemaakt
// Error + 1 bij het totale aantal errors
if (!bankingApp.checked && !overschrijving.checked && !visa.checked && !paypal.checked) {
  let melding = 'Vink een betaling aan!';
  errors.push(melding);
  countError++;
}


}
// Kijkt of postcode niet leeg is en de waarde tussen de 1000 en 9999 ligt
// Anders wordt er een melding naar de errors array gemaakt
// Error + 1 bij het totale aantal errors
function checkPc(veld) {
  const postcodeValue = postcode.value;
  let melding = '';
  if (postcodeValue === '') {
    melding = 'Postcode moet verplicht worden ingevuld!';
    errors.push(melding);
    countError++;
  } if (postcodeValue < 1000 || postcodeValue > 9999) {
    melding = 'De waarde van potcode moet tussen 1000 en  9999 liggen!';
    errors.push(melding);  
    countError++;
  }
}
// Kijkt of algemene voorwaarden werden aangeduid in de checkbox
// Als dat niet zo is dan wordt er een melding naar de errors array gemaakt
// Error + 1 bij het totale aantal errors
function checkAlgemeneVoorwaarden () {

  if (!agreeRequirements.checked) {
    melding = 'Je moet de algemene voorwaarden accepteren!';
    errors.push(melding);  
    countError++;
  }
}

    </script>
  </body>
</html>
